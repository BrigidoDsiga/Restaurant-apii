<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Cardápio Restaurante - UX/UI Premium</title>
<style>
  @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap');
  /* Reset básico */
  * {
    box-sizing: border-box;
  }
  body {
    font-family: 'Poppins', sans-serif;
    margin: 0; padding: 0;
    background: #f0f2f5;
    color: #2c3e50;
  }
  header {
    background: #34495e;
    color: #ecf0f1;
    padding: 1.5rem 1rem;
    text-align: center;
    box-shadow: 0 2px 8px rgba(0,0,0,0.15);
    position: sticky;
    top: 0;
    z-index: 1000;
  }
  header h1 {
    margin: 0 0 0.5rem;
    font-weight: 600;
  }
  #open-cart-btn {
    background: #e67e22;
    border: none;
    padding: 0.5rem 1rem;
    font-size: 1rem;
    border-radius: 30px;
    cursor: pointer;
    color: white;
    box-shadow: 0 4px 10px rgb(230 126 34 / 0.4);
    transition: background-color 0.3s ease;
  }
  #open-cart-btn:hover {
    background: #cf711b;
  }
  nav.category-nav {
    display: flex;
    justify-content: center;
    background: #2c3e50;
    padding: 0.5rem 0;
    box-shadow: inset 0 -3px 5px rgba(255,255,255,0.1);
  }
  nav.category-nav button {
    background: none;
    border: none;
    color: #bdc3c7;
    font-size: 1.1rem;
    padding: 1rem 2rem;
    cursor: pointer;
    border-bottom: 4px solid transparent;
    font-weight: 600;
    display: flex;
    align-items: center;
    gap: 0.5rem;
    transition: all 0.3s ease;
  }
  nav.category-nav button svg {
    width: 20px; height: 20px;
    fill: currentColor;
  }
  nav.category-nav button[aria-selected="true"] {
    color: #e67e22;
    border-bottom-color: #e67e22;
  }
  nav.category-nav button:hover:not([aria-selected="true"]) {
    color: #f39c12;
  }
  main {
    max-width: 960px;
    margin: 2rem auto;
    padding: 0 1rem 3rem;
  }
  ul.dish-list {
    list-style: none;
    padding: 0;
    margin: 0;
    display: grid;
    grid-template-columns: repeat(auto-fit,minmax(280px,1fr));
    gap: 1.8rem;
  }
  li.dish-card {
    background: white;
    border-radius: 12px;
    box-shadow: 0 6px 18px rgb(0 0 0 / 0.07);
    padding: 1.5rem;
    display: flex;
    flex-direction: column;
    justify-content: space-between;
    transition: box-shadow 0.3s ease;
  }
  li.dish-card:hover {
    box-shadow: 0 12px 28px rgb(230 126 34 / 0.3);
  }
  .dish-name {
    margin: 0 0 0.5rem;
    font-weight: 600;
    font-size: 1.2rem;
    color: #2c3e50;
  }
  .dish-desc {
    flex-grow: 1;
    margin: 0 0 1rem;
    color: #7f8c8d;
    font-size: 0.95rem;
    line-height: 1.3;
  }
  .dish-price {
    font-weight: 700;
    font-size: 1.15rem;
    margin-bottom: 1rem;
    color: #e67e22;
  }
  .add-to-cart-btn {
    background: #e67e22;
    border: none;
    color: white;
    font-weight: 600;
    font-size: 1rem;
    padding: 0.65rem 0;
    border-radius: 8px;
    cursor: pointer;
    box-shadow: 0 6px 16px rgb(230 126 34 / 0.3);
    transition: background-color 0.25s ease;
  }
  .add-to-cart-btn:hover {
    background: #cf711b;
  }

  /* Modal carrinho */
  #cart-modal {
    position: fixed;
    inset: 0;
    background: rgba(0,0,0,0.55);
    display: none;
    align-items: center;
    justify-content: center;
    padding: 1rem;
    z-index: 1500;
    overflow-y: auto;
  }
  #cart-modal.active {
    display: flex;
  }
  #cart-content {
    background: white;
    border-radius: 16px;
    width: 100%;
    max-width: 480px;
    max-height: 85vh;
    display: flex;
    flex-direction: column;
    padding: 1.8rem 2rem;
    box-shadow: 0 14px 40px rgb(0 0 0 / 0.3);
  }
  #cart-content h2 {
    margin: 0 0 1rem;
    font-weight: 700;
    color: #34495e;
    text-align: center;
  }
  #close-cart-btn {
    background: #c0392b;
    border: none;
    color: white;
    padding: 0.5rem 0.9rem;
    border-radius: 10px;
    font-weight: 700;
    cursor: pointer;
    align-self: flex-end;
    transition: background-color 0.3s ease;
    box-shadow: 0 6px 16px rgb(192 57 43 / 0.4);
  }
  #close-cart-btn:hover {
    background: #992d22;
  }
  ul#cart-items {
    flex-grow: 1;
    overflow-y: auto;
    margin: 0 -2rem 1rem;
    padding: 0 2rem;
    list-style: none;
  }
  ul#cart-items li {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 0.6rem 0;
    border-bottom: 1px solid #ecf0f1;
  }
  ul#cart-items li:last-child {
    border-bottom: none;
  }
  .cart-item-name {
    flex: 1;
    font-weight: 600;
    color: #34495e;
  }
  .cart-item-quantity {
    display: flex;
    align-items: center;
    gap: 0.3rem;
  }
  .cart-qty-btn {
    background: #e67e22;
    border: none;
    color: white;
    font-weight: 700;
    font-size: 1.1rem;
    width: 28px;
    height: 28px;
    border-radius: 6px;
    cursor: pointer;
    box-shadow: 0 4px 10px rgb(230 126 34 / 0.4);
    display: flex;
    justify-content: center;
    align-items: center;
    user-select: none;
  }
  .cart-qty-btn:hover {
    background: #cf711b;
  }
  .cart-item-subtotal {
    font-weight: 700;
    color: #e67e22;
    width: 70px;
    text-align: right;
    font-size: 1rem;
  }
  #total-price {
    font-weight: 700;
    font-size: 1.3rem;
    color: #2c3e50;
    text-align: right;
    margin-bottom: 1.2rem;
    padding-right: 2rem;
  }
  .payment-method {
    margin-bottom: 1.3rem;
  }
  .payment-method label {
    font-weight: 600;
    display: block;
    margin-bottom: 0.5rem;
    color: #34495e;
  }
  #payment {
    width: 100%;
    padding: 0.55rem 0.9rem;
    font-size: 1rem;
    border-radius: 10px;
    border: 1.8px solid #ddd;
    outline-offset: 3px;
    transition: border-color 0.3s ease;
  }
  #payment:focus {
    border-color: #e67e22;
  }
  #finalizar-pedido-btn {
    width: 100%;
    background: #27ae60;
    color: white;
    border: none;
    padding: 0.85rem;
    font-size: 1.2rem;
    font-weight: 700;
    cursor: pointer;
    border-radius: 14px;
    box-shadow: 0 8px 24px rgb(39 174 96 / 0.5);
    transition: background-color 0.3s ease;
  }
  #finalizar-pedido-btn:disabled {
    background: #95a5a6;
    box-shadow: none;
    cursor: not-allowed;
  }
  #finalizar-pedido-btn:not(:disabled):hover {
    background: #1e8449;
  }

  /* Scrollbar estilizado no modal */
  #cart-items::-webkit-scrollbar {
    width: 8px;
  }
  #cart-items::-webkit-scrollbar-track {
    background: #f0f2f5;
    border-radius: 6px;
  }
  #cart-items::-webkit-scrollbar-thumb {
    background: #e67e22;
    border-radius: 6px;
  }

  /* Responsividade */
  @media (max-width: 600px) {
    nav.category-nav {
      flex-wrap: wrap;
    }
    nav.category-nav button {
      flex: 1 1 33%;
      padding: 1rem 0;
      font-size: 1rem;
      justify-content: center;
    }
  }
</style>
</head>
<body>

<header>
  <h1>Restaurante Bar do Boi</h1>
  <button id="open-cart-btn" aria-label="Abrir carrinho de pedidos">Ver Carrinho 🛒</button>
</header>

<nav class="category-nav" role="tablist" aria-label="Categorias do cardápio">
  <button role="tab" aria-selected="true" aria-controls="comidas-panel" id="tab-comidas" tabindex="0" title="Comidas">
    <svg viewBox="0 0 24 24"><path d="M12 2a10 10 0 1 0 10 10A10.011 10.011 0 0 0 12 2Zm2 14h-4v-2h4Zm-3-4h2v-6h-2Z"/></svg> Comidas
  </button>
  <button role="tab" aria-selected="false" aria-controls="bebidas-panel" id="tab-bebidas" tabindex="-1" title="Bebidas">
    <svg viewBox="0 0 24 24"><path d="M3 21h18v-2H3Zm3-4h12l-1-9H7Zm1-11h6v2H11Z"/></svg> Bebidas
  </button>
  <button role="tab" aria-selected="false" aria-controls="petiscos-panel" id="tab-petiscos" tabindex="-1" title="Petiscos">
    <svg viewBox="0 0 24 24"><path d="M17 7v10a5 5 0 0 1-10 0V7Z"/></svg> Petiscos
  </button>
</nav>

<main>
  <section id="comidas-panel" role="tabpanel" aria-labelledby="tab-comidas">
    <ul id="comidas-list" class="dish-list"></ul>
  </section>
  <section id="bebidas-panel" role="tabpanel" aria-labelledby="tab-bebidas" hidden>
    <ul id="bebidas-list" class="dish-list"></ul>
  </section>
  <section id="petiscos-panel" role="tabpanel" aria-labelledby="tab-petiscos" hidden>
    <ul id="petiscos-list" class="dish-list"></ul>
  </section>
</main>

<!-- Modal Carrinho -->
<div id="cart-modal" role="dialog" aria-modal="true" aria-labelledby="cart-title" aria-describedby="cart-desc">
  <div id="cart-content">
    <button id="close-cart-btn" aria-label="Fechar carrinho">✕</button>
    <h2 id="cart-title">Seu Pedido</h2>
    <ul id="cart-items" aria-live="polite" aria-relevant="additions removals"></ul>
    <div id="total-price"></div>

    <div class="payment-method">
      <label for="payment">Forma de Pagamento:</label>
      <select id="payment" aria-label="Selecionar forma de pagamento">
        <option value="pix">PIX</option>
        <option value="cartao">Cartão</option>
        <option value="dinheiro">Dinheiro</option>
      </select>
    </div>

    <button id="finalizar-pedido-btn" disabled>Finalizar Pedido</button>
  </div>
</div>

<script>
  // Dados ampliados do menu
  const menu = {
  comidas: [
    { id: 1, name: 'Prato Feito', description: 'Arroz, feijão, bife e salada', price: 20.00 },
    { id: 2, name: 'Lasanha à Bolonhesa', description: 'Massa fresca com molho bolonhesa e queijo gratinado', price: 25.50 },
    { id: 3, name: 'Frango Grelhado', description: 'Peito de frango grelhado com legumes salteados', price: 22.00 },
    { id: 4, name: 'Risoto de Cogumelos', description: 'Risoto cremoso com mix de cogumelos frescos', price: 28.00 },
    { id: 5, name: 'Strogonoff de Carne', description: 'Carne macia ao molho cremoso com arroz e batata palha', price: 27.50 },
    { id: 6, name: 'Moqueca Baiana', description: 'Peixe cozido no leite de coco, dendê e temperos', price: 35.00 },
    { id: 7, name: 'Espaguete Carbonara', description: 'Massa com molho cremoso de ovos, queijo e bacon', price: 23.00 },
    { id: 8, name: 'Feijoada', description: 'Feijoada completa com carnes variadas e acompanhamentos', price: 40.00 },
    { id: 9, name: 'Mocotó', description: 'Caldo de mocotó tradicional e nutritivo', price: 38.00 },
    { id: 10, name: 'Rabada', description: 'Rabada cozida com agrião e polenta', price: 42.00 }
  ],
  bebidas: [
    { id: 101, name: 'Refrigerante Lata', description: 'Coca-Cola, Guaraná ou Fanta', price: 6.00 },
    { id: 102, name: 'Suco Natural', description: 'Laranja, limão ou maracujá', price: 8.50 },
    { id: 103, name: 'Água Mineral', description: 'Com ou sem gás', price: 5.00 },
    { id: 104, name: 'Cerveja Long Neck', description: 'Gelada e refrescante', price: 9.00 },
    { id: 105, name: 'Café Expresso', description: 'Café forte e encorpado', price: 7.00 },
    { id: 106, name: 'Chá Gelado', description: 'Limão ou pêssego', price: 6.50 },
    { id: 107, name: 'Coquetel Sem Álcool', description: 'Mistura refrescante de frutas', price: 12.00 }
  ],
  petiscos: [
    { id: 201, name: 'Batata Frita', description: 'Crocrante e dourada', price: 15.00 },
    { id: 202, name: 'Calabresa Acebolada', description: 'Fatiada com cebola refogada', price: 18.50 },
    { id: 203, name: 'Bolinho de Bacalhau', description: 'Tradicional e saboroso', price: 20.00 },
    { id: 204, name: 'Pastel de Queijo', description: 'Pastel frito recheado', price: 12.00 },
    { id: 205, name: 'Espetinho de Frango', description: 'Com molho especial', price: 14.50 },
    { id: 206, name: 'Mandioca Frita', description: 'Com molho de alho', price: 16.00 }
  ]
};

  const comidasList = document.getElementById('comidas-list');
  const bebidasList = document.getElementById('bebidas-list');
  const petiscosList = document.getElementById('petiscos-list');

  // Renderiza os cards no UL
  function renderDishes() {
    function createDishCard(dish) {
      const li = document.createElement('li');
      li.className = 'dish-card';
      li.innerHTML = `
        <h3 class="dish-name">${dish.name}</h3>
        <p class="dish-desc">${dish.description}</p>
        <div class="dish-price">R$ ${dish.price.toFixed(2)}</div>
        <button class="add-to-cart-btn" aria-label="Adicionar ${dish.name} ao carrinho">Adicionar</button>
      `;
      li.querySelector('button').addEventListener('click', () => addToCart(dish));
      return li;
    }

    comidasList.innerHTML = '';
    bebidasList.innerHTML = '';
    petiscosList.innerHTML = '';

    menu.comidas.forEach(dish => comidasList.appendChild(createDishCard(dish)));
    menu.bebidas.forEach(dish => bebidasList.appendChild(createDishCard(dish)));
    menu.petiscos.forEach(dish => petiscosList.appendChild(createDishCard(dish)));
  }

  renderDishes();

  // Alternar abas do menu
  const tabs = document.querySelectorAll('nav.category-nav button');
  tabs.forEach(tab => {
    tab.addEventListener('click', () => {
      tabs.forEach(t => {
        t.setAttribute('aria-selected', 'false');
        t.setAttribute('tabindex', '-1');
        document.getElementById(t.getAttribute('aria-controls')).hidden = true;
      });
      tab.setAttribute('aria-selected', 'true');
      tab.setAttribute('tabindex', '0');
      document.getElementById(tab.getAttribute('aria-controls')).hidden = false;
      tab.focus();
    });
  });

  // Gerenciamento do carrinho
  let cart = [];

  const cartModal = document.getElementById('cart-modal');
  const openCartBtn = document.getElementById('open-cart-btn');
  const closeCartBtn = document.getElementById('close-cart-btn');
  const cartItemsList = document.getElementById('cart-items');
  const totalPriceEl = document.getElementById('total-price');
  const finalizarPedidoBtn = document.getElementById('finalizar-pedido-btn');
  const paymentSelect = document.getElementById('payment');

  function addToCart(dish) {
    const existingItem = cart.find(item => item.id === dish.id);
    if (existingItem) {
      existingItem.quantity++;
    } else {
      cart.push({...dish, quantity: 1});
    }
    openCart();
    renderCart();
  }

  function renderCart() {
    cartItemsList.innerHTML = '';
    if (cart.length === 0) {
      cartItemsList.innerHTML = '<li>Seu carrinho está vazio.</li>';
      totalPriceEl.textContent = '';
      finalizarPedidoBtn.disabled = true;
      return;
    }

    cart.forEach(item => {
      const li = document.createElement('li');
      li.innerHTML = `
        <span class="cart-item-name">${item.name}</span>
        <div class="cart-item-quantity" aria-label="Quantidade de ${item.name}">
          <button class="cart-qty-btn" aria-label="Diminuir quantidade de ${item.name}">−</button>
          <span aria-live="polite" aria-atomic="true">${item.quantity}</span>
          <button class="cart-qty-btn" aria-label="Aumentar quantidade de ${item.name}">+</button>
        </div>
        <span class="cart-item-subtotal">R$ ${(item.price * item.quantity).toFixed(2)}</span>
      `;

      const btns = li.querySelectorAll('.cart-qty-btn');
      btns[0].addEventListener('click', () => {
        if (item.quantity > 1) {
          item.quantity--;
        } else {
          cart = cart.filter(i => i.id !== item.id);
        }
        renderCart();
      });
      btns[1].addEventListener('click', () => {
        item.quantity++;
        renderCart();
      });

      cartItemsList.appendChild(li);
    });

    const total = cart.reduce((sum, item) => sum + item.price * item.quantity, 0);
    totalPriceEl.textContent = `Total: R$ ${total.toFixed(2)}`;

    finalizarPedidoBtn.disabled = false;
  }

  function openCart() {
    cartModal.classList.add('active');
  }
  function closeCart() {
    cartModal.classList.remove('active');
  }

  openCartBtn.addEventListener('click', () => {
    openCart();
    renderCart();
  });
  closeCartBtn.addEventListener('click', closeCart);

  finalizarPedidoBtn.addEventListener('click', () => {
    if (cart.length === 0) return;
    alert(`Pedido finalizado com sucesso! Forma de pagamento: ${paymentSelect.value.toUpperCase()}\nTotal: R$ ${cart.reduce((s,i)=>s+i.price*i.quantity,0).toFixed(2)}`);
    cart = [];
    closeCart();
  });

  // Fechar modal com ESC
  window.addEventListener('keydown', e => {
    if (e.key === 'Escape' && cartModal.classList.contains('active')) {
      closeCart();
    }
  });
</script>

</body>
</html>
